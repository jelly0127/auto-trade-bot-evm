# 交易机器人设置说明

## 当前状态

✅ **交易历史记录** - 完整实现，包含交易哈希显示  
✅ **区块链浏览器链接** - 支持多个主流链  
✅ **交易状态管理** - pending/success/failed 状态  
✅ **错误处理** - 完整的错误捕获和显示  
⚠️ **模拟交易模式** - 当前使用模拟交易哈希  
❌ **真实交易** - 需要配置后启用  

## 快速开始（模拟模式）

当前系统运行在模拟模式下，会生成模拟的交易哈希用于演示。你可以：

1. 选择代币
2. 导入钱包数据
3. 启动刷单机器人
4. 查看交易历史和交易哈希

所有功能都可以正常使用，只是不会执行真实的区块链交易。

## 启用真实交易

### 第一步：安装依赖

```bash
npm install ethers
```

### 第二步：创建环境变量文件

在项目根目录创建 `.env.local` 文件：

```env
# 钱包私钥（请妥善保管）
PRIVATE_KEY=your_wallet_private_key_here

# 是否启用真实交易
ENABLE_REAL_TRADING=true

# BSC RPC 节点（可选，使用默认公共节点）
BSC_RPC_URL=https://bsc-dataseed1.binance.org/

# 滑点容忍度（百分比）
SLIPPAGE_TOLERANCE=5
```

### 第三步：配置交易参数

编辑 `config/tradeConfig.ts`：

```typescript
export const defaultTradeConfig: TradeConfig = {
  // 启用真实交易
  enableRealTrading: true,
  
  // 其他配置...
};
```

### 第四步：启用真实交易代码

1. 在 `utils/realTradeExecutor.ts` 中取消注释真实交易代码
2. 在 `utils/tradeUtils.ts` 中取消注释真实交易调用

### 第五步：测试

1. **先在测试网测试**：
   - 使用 BSC 测试网（chainId: 97）
   - 获取测试网 BNB：https://testnet.binance.org/faucet-smart
   
2. **小额主网测试**：
   - 使用很小的金额（如 0.001 BNB）
   - 确认一切正常工作

3. **正式使用**：
   - 确认所有功能正常后再使用大额资金

## 安全注意事项

### 🔒 私钥安全

- **永远不要**在代码中硬编码私钥
- 使用环境变量存储私钥
- 定期更换私钥
- 不要在公共场所输入私钥

### 💰 资金安全

- 先在测试网测试所有功能
- 使用小额资金进行初始测试
- 设置合理的滑点容忍度（建议 3-10%）
- 监控 Gas 费用

### 🛡️ 系统安全

- 定期备份钱包
- 使用专用的交易钱包
- 不要在不安全的网络环境下使用
- 定期检查交易记录

## 支持的功能

### 交易类型

- **手动交易** - 价格策略组件
- **刷单交易** - 自动化高频交易
- **拉升交易** - 多钱包协调买入
- **砸盘交易** - 多钱包协调卖出

### 支持的链

- **BSC 主网** (chainId: 56) - PancakeSwap
- **BSC 测试网** (chainId: 97) - PancakeSwap Testnet
- **Ethereum** (chainId: 1) - Uniswap（需要配置）
- **Polygon** (chainId: 137) - QuickSwap（需要配置）

### 交易历史

- 本地存储（最多 200 条记录）
- 交易哈希显示和链接
- 导出/导入功能
- 按代币/钱包筛选
- 实时统计

## 故障排除

### 常见错误

1. **"请配置真实的钱包私钥"**
   - 检查 `.env.local` 文件中的 `PRIVATE_KEY`
   - 确保私钥格式正确（以 0x 开头）

2. **"余额不足"**
   - 检查钱包 BNB 余额
   - 确保有足够的 Gas 费用

3. **"滑点过高"**
   - 增加滑点容忍度
   - 减少交易金额
   - 选择流动性更好的代币

4. **"Gas 估算失败"**
   - 检查代币合约是否有效
   - 确认代币有足够的流动性
   - 尝试减少交易金额

### 调试步骤

1. 检查浏览器控制台的错误信息
2. 确认网络连接正常
3. 验证钱包地址和私钥匹配
4. 检查代币合约地址是否正确
5. 确认 RPC 节点正常工作

## 技术支持

如果遇到问题：

1. 查看浏览器控制台的详细错误信息
2. 检查交易历史中的失败记录
3. 验证配置文件设置
4. 在测试网重现问题

## 免责声明

⚠️ **重要提示**：

- 本软件仅供学习和研究使用
- 使用本软件进行交易存在资金损失风险
- 请在充分理解风险的情况下使用
- 作者不对任何资金损失承担责任
- 请遵守当地法律法规 